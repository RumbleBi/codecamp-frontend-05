(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[29],{82559:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return Zn}});var i,s,r,o,d,u,a,c,l,p,m,f,v,h,x,g,Z,I,w,b=t(15861),y=t(97685),Q=t(87757),j=t.n(Q),k=t(50319),U=t(71641),A=t(99859),C=t(11163),$=t(67294),_=t(25957),D=t(30168),P=t(10386),E=P.Z.div(i||(i=(0,D.Z)(["\n  display: flex;\n  justify-content: center;\n"]))),q=P.Z.div(s||(s=(0,D.Z)(["\n  margin-top: 150px;\n  margin-bottom: 50px;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-evenly;\n  align-items: center;\n  width: 1200px;\n  border-radius: 10px;\n  background-color: #e8f9fd;\n  box-shadow: 0px 0px 10px gray;\n"]))),O=(P.Z.img(r||(r=(0,D.Z)([""]))),P.Z.div(o||(o=(0,D.Z)(["\n  font-size: 36px;\n  font-weight: bold;\n  color: #0aa1dd;\n  margin-top: 50px;\n  margin-bottom: 50px;\n"])))),M=P.Z.div(d||(d=(0,D.Z)(["\n  width: 1200px;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0px 20px;\n\n  border-top: 1px solid #2155cd;\n"]))),S=P.Z.div(u||(u=(0,D.Z)(["\n  color: #0aa1dd;\n  font-size: 24px;\n"]))),z=P.Z.div(a||(a=(0,D.Z)(["\n  color: #0aa1dd;\n  font-size: 20px;\n"]))),N=P.Z.div(c||(c=(0,D.Z)(["\n  width: 1200px;\n  background-color: #e8f9fd;\n  border-top: 1px solid #2155cd;\n"]))),T=P.Z.div(l||(l=(0,D.Z)(["\n  padding-left: 20px;\n  color: #0aa1dd;\n  font-size: 24px;\n  border-bottom: 1px solid #2155cd;\n"]))),L=P.Z.div(p||(p=(0,D.Z)(["\n  padding-left: 20px;\n  color: #0aa1dd;\n  font-size: 24px;\n  border-bottom: 1px solid #2155cd;\n"]))),R=P.Z.div(m||(m=(0,D.Z)(["\n  padding-left: 20px;\n  color: #0aa1dd;\n  font-size: 24px;\n  border-bottom: 1px solid #2155cd;\n  span {\n    font-size: 20px;\n    padding: 5px 15px;\n    border-radius: 10px;\n    background-color: #2155cd;\n    margin: 0px 10px;\n  }\n"]))),V=P.Z.div(f||(f=(0,D.Z)(["\n  color: #0aa1dd;\n  padding-left: 20px;\n  padding-right: 5px;\n"]))),B=P.Z.div(v||(v=(0,D.Z)(["\n  display: flex;\n  color: #0aa1dd;\n  border-bottom: 1px solid #2155cd;\n  div {\n    font-size: 24px;\n  }\n"]))),W=P.Z.div(h||(h=(0,D.Z)(["\n  font-size: 24px;\n  padding-left: 50px;\n"]))),F=P.Z.div(x||(x=(0,D.Z)(["\n  width: 1200px;\n  min-height: 300px;\n  color: #0aa1dd;\n  font-size: 20px;\n  background-color: white;\n  padding-left: 20px;\n  padding-top: 10px;\n"]))),X=P.Z.div(g||(g=(0,D.Z)(["\n  border-top: 1px solid #2155cd;\n  padding-top: 50px;\n  padding-bottom: 50px;\n  width: 1200px;\n  background-color: #e8f9fd;\n  display: flex;\n  justify-content: center;\n  color: #2155cd;\n  font-size: 40px;\n"]))),H=P.Z.div(Z||(Z=(0,D.Z)(["\n  width: 1200px;\n  display: flex;\n  justify-content: space-evenly;\n  margin-bottom: 50px;\n"]))),G=P.Z.img(I||(I=(0,D.Z)(["\n  width: 200px;\n  height: 200px;\n  margin-right: 50px;\n  object-fit: scale-down;\n"]))),J=P.Z.div(w||(w=(0,D.Z)(["\n  width: 1200px;\n  display: flex;\n  justify-content: space-evenly;\n  margin-bottom: 50px;\n"]))),K=t(27856),Y=t.n(K),ee=t(63750),ne=t(93757),te=t(85893);function ie(e){var n,t,i,s,r,o,d,u,a,c,l,p,m,f,v,h,x,g,Z,I,w,b,y;return(0,te.jsx)(E,{children:(0,te.jsxs)(q,{children:[(0,te.jsx)(O,{children:"\uc0c1\uc138\ud398\uc774\uc9c0"}),(0,te.jsxs)(M,{children:[(0,te.jsxs)(S,{children:["\uc0c1\ud488\uba85 : ",null===(n=e.data)||void 0===n||null===(t=n.fetchUseditem)||void 0===t?void 0:t.name]}),(0,te.jsx)(z,{children:(0,ne._3)(null===(i=e.data)||void 0===i||null===(s=i.fetchUseditem)||void 0===s?void 0:s.createdAt)})]}),(0,te.jsxs)(N,{children:[(0,te.jsxs)(T,{children:["\uc81c\ubaa9 : ",null===(r=e.data)||void 0===r||null===(o=r.fetchUseditem)||void 0===o?void 0:o.remarks]}),(0,te.jsxs)(L,{children:["\uac00\uaca9 : ",null===(d=e.data)||void 0===d||null===(u=d.fetchUseditem)||void 0===u?void 0:u.price]}),(0,te.jsxs)(R,{children:["\ud0dc\uadf8 :",null===(a=e.data)||void 0===a||null===(c=a.fetchUseditem)||void 0===c?void 0:c.tags.map((function(e,n){return(0,te.jsx)("span",{children:e},n)}))]}),(0,te.jsxs)(B,{children:[(0,te.jsx)(V,{children:"\uac70\ub798\uc7a5\uc18c : "}),(0,te.jsx)("div",{children:null===(l=e.data)||void 0===l||null===(p=l.fetchUseditem)||void 0===p||null===(m=p.useditemAddress)||void 0===m?void 0:m.address}),(0,te.jsx)(W,{children:null===(f=e.data)||void 0===f||null===(v=f.fetchUseditem)||void 0===v||null===(h=v.useditemAddress)||void 0===h?void 0:h.addressDetail})]}),(0,te.jsx)(F,{dangerouslySetInnerHTML:{__html:Y().sanitize(String(null===(x=e.data)||void 0===x||null===(g=x.fetchUseditem)||void 0===g?void 0:g.contents))}}),(0,te.jsx)(X,{children:!0===e.myPick?(0,te.jsx)(ee.ytW,{onClick:e.onClickMyPickCancel,style:{cursor:"pointer"}}):(0,te.jsx)(ee.sF8,{onClick:e.onClickMyPick,style:{cursor:"pointer"}})}),(0,te.jsx)(H,{children:null===(Z=e.data)||void 0===Z||null===(I=Z.fetchUseditem)||void 0===I||null===(w=I.images)||void 0===w?void 0:w.filter((function(e){return e})).map((function(e){return(0,te.jsx)(G,{src:"https://storage.googleapis.com/".concat(e)},e)}))})]}),(null===(b=e.userData)||void 0===b?void 0:b.fetchUserLoggedIn._id)===(null===(y=e.data)||void 0===y?void 0:y.fetchUseditem.seller._id)?(0,te.jsxs)(J,{children:[(0,te.jsx)(_.Z,{onClick:e.onClickMoveToMain,name:"\ubaa9\ub85d\uc73c\ub85c"}),(0,te.jsx)(_.Z,{onClick:e.onClickMoveToEdit,name:"\uc218\uc815\ud558\uae30"}),(0,te.jsx)(_.Z,{onClick:e.onClickDeleteUseditem,name:"\uc0ad\uc81c\ud558\uae30"})]}):(0,te.jsxs)(J,{children:[(0,te.jsx)(_.Z,{onClick:e.onClickMoveToMain,name:"\ubaa9\ub85d\uc73c\ub85c"}),(0,te.jsx)(_.Z,{onClick:e.onClickBuyUseditem,name:"\uad6c\uc785\ud558\uae30"})]})]})})}var se,re,oe,de,ue,ae=t(17283),ce=(0,ae.Ps)(se||(se=(0,D.Z)(["\n  query fetchUserLoggedIn {\n    fetchUserLoggedIn {\n      _id\n    }\n  }\n"]))),le=(0,ae.Ps)(re||(re=(0,D.Z)(["\n  mutation deleteUseditem($useditemId: ID!) {\n    deleteUseditem(useditemId: $useditemId)\n  }\n"]))),pe=(0,ae.Ps)(oe||(oe=(0,D.Z)(["\n  query fetchUseditem($useditemId: ID!) {\n    fetchUseditem(useditemId: $useditemId) {\n      _id\n      name\n      remarks\n      contents\n      price\n      createdAt\n      images\n      tags\n      useditemAddress {\n        zipcode\n        address\n        addressDetail\n      }\n      seller {\n        _id\n      }\n    }\n  }\n"]))),me=(0,ae.Ps)(de||(de=(0,D.Z)(["\n  mutation toggleUseditemPick($useditemId: ID!) {\n    toggleUseditemPick(useditemId: $useditemId)\n  }\n"]))),fe=(0,ae.Ps)(ue||(ue=(0,D.Z)(["\n  mutation createPointTransactionOfBuyingAndSelling($useritemId: ID!) {\n    createPointTransactionOfBuyingAndSelling(useritemId: $useritemId) {\n      _id\n      remarks\n      soldAt\n    }\n  }\n"])));function ve(){var e=(0,C.useRouter)(),n=(0,$.useState)(!1),t=n[0],i=n[1],s=(0,k.D)(le),r=(0,y.Z)(s,1)[0],o=(0,k.D)(me),d=(0,y.Z)(o,1)[0],u=(0,k.D)(fe),a=(0,y.Z)(u,1)[0],c=(0,U.a)(ce).data,l=(0,U.a)(pe,{variables:{useditemId:String(e.query.useditemId)}}).data,p=function(){var n=(0,b.Z)(j().mark((function n(){return j().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,i((function(e){return!e})),n.next=4,d({variables:{useditemId:String(e.query.useditemId)}});case 4:n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),n.t0 instanceof Error&&alert(n.t0.message);case 9:alert("\ucc1c\ubaa9\ub85d\uc5d0 \ucd94\uac00\ub418\uc5c8\uc2b5\ub2c8\ub2e4!");case 10:case"end":return n.stop()}}),n,null,[[0,6]])})));return function(){return n.apply(this,arguments)}}(),m=function(){var n=(0,b.Z)(j().mark((function n(){return j().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,i((function(e){return!e})),n.next=4,d({variables:{useditemId:String(e.query.useditemId)}});case 4:n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),n.t0 instanceof Error&&alert(n.t0.message);case 9:alert("\ucc1c\ubaa9\ub85d\uc5d0\uc11c \ube60\uc84c\uc2b5\ub2c8\ub2e4!");case 10:case"end":return n.stop()}}),n,null,[[0,6]])})));return function(){return n.apply(this,arguments)}}(),f=function(){var n=(0,b.Z)(j().mark((function n(){return j().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,r({variables:{useditemId:String(e.query.useditemId)}});case 3:A.Z.success({content:"\uc0ad\uc81c\uac00 \uc644\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4."}),e.push("/fleamarket/main"),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),n.t0 instanceof Error&&alert(n.t0.message);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(){return n.apply(this,arguments)}}(),v=function(){var n=(0,b.Z)(j().mark((function n(){var t;return j().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,a({variables:{useritemId:e.query.useditemId}});case 3:t=n.sent,console.log(t),alert("\uad6c\ub9e4\ud558\uc168\uc2b5\ub2c8\ub2e4!"),e.push("/fleamarket/main"),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),n.t0 instanceof Error&&alert(n.t0.message);case 12:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(){return n.apply(this,arguments)}}();return console.log(l),(0,te.jsx)(ie,{data:l&&l,userData:c,onClickDeleteUseditem:f,onClickMoveToMain:function(){e.push("/fleamarket/main")},onClickMoveToEdit:function(){e.push("/fleamarket/".concat(e.query.useditemId,"/edit"))},onClickMyPick:p,onClickMyPickCancel:m,myPick:t,onClickBuyUseditem:v})}var he,xe,ge,Ze,Ie,we,be,ye,Qe,je,ke,Ue,Ae,Ce,$e,_e,De,Pe,Ee=t(98300),qe=t(74902),Oe=P.Z.div(he||(he=(0,D.Z)(["\n  display: flex;\n  justify-content: center;\n"]))),Me=P.Z.div(xe||(xe=(0,D.Z)(["\n  width: 1200px;\n  margin-bottom: 30px;\n  border-bottom: 1px solid #2155cd;\n  display: flex;\n  justify-content: space-between;\n"]))),Se=P.Z.div(ge||(ge=(0,D.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  width: 1200px;\n  margin-bottom: 30px;\n  border-bottom: 1px solid #2155cd;\n"]))),ze=P.Z.div(Ze||(Ze=(0,D.Z)([""]))),Ne=P.Z.div(Ie||(Ie=(0,D.Z)(["\n  margin-bottom: 10px;\n  font-size: 20px;\n  cursor: default;\n"]))),Te=P.Z.div(we||(we=(0,D.Z)(["\n  margin-left: 10px;\n  font-size: 20px;\n"]))),Le=P.Z.div(be||(be=(0,D.Z)(["\n  display: flex;\n  div {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    margin-left: 10px;\n    width: 100px;\n    height: 30px;\n    border: none;\n    background-color: #2155cd;\n    color: #79dae8;\n    border-radius: 10px;\n    :hover {\n      font-weight: bold;\n      cursor: pointer;\n    }\n  }\n"]))),Re=P.Z.div(ye||(ye=(0,D.Z)(["\n  width: 1200px;\n"]))),Ve=(P.Z.div(Qe||(Qe=(0,D.Z)(["\n  min-height: 50px;\n"]))),t(246)),Be=t.n(Ve),We=(0,ae.Ps)(je||(je=(0,D.Z)(["\n  mutation createUseditemQuestionAnswer(\n    $createUseditemQuestionAnswerInput: CreateUseditemQuestionAnswerInput!\n    $useditemQuestionId: ID!\n  ) {\n    createUseditemQuestionAnswer(\n      createUseditemQuestionAnswerInput: $createUseditemQuestionAnswerInput\n      useditemQuestionId: $useditemQuestionId\n    ) {\n      _id\n      contents\n    }\n  }\n"]))),Fe=(0,ae.Ps)(ke||(ke=(0,D.Z)(["\n  query fetchUseditemQuestionAnswers($page: Int, $useditemQuestionId: ID!) {\n    fetchUseditemQuestionAnswers(\n      page: $page\n      useditemQuestionId: $useditemQuestionId\n    ) {\n      _id\n      contents\n    }\n  }\n"]))),Xe=(0,ae.Ps)(Ue||(Ue=(0,D.Z)(["\n  mutation updateUseditemQuestionAnswer(\n    $updateUseditemQuestionAnswerInput: UpdateUseditemQuestionAnswerInput!\n    $useditemQuestionAnswerId: ID!\n  ) {\n    updateUseditemQuestionAnswer(\n      updateUseditemQuestionAnswerInput: $updateUseditemQuestionAnswerInput\n      useditemQuestionAnswerId: $useditemQuestionAnswerId\n    ) {\n      _id\n      contents\n    }\n  }\n"]))),He=P.Z.div(Ae||(Ae=(0,D.Z)(["\n  display: flex;\n  justify-content: start;\n  align-items: center;\n  width: 100%;\n  min-height: 10vh;\n  height: auto;\n  background-color: #ffd400;\n"]))),Ge=P.Z.textarea(Ce||(Ce=(0,D.Z)(["\n  width: 60%;\n  min-height: 8vh;\n  height: auto;\n  resize: none;\n"]))),Je=P.Z.button($e||($e=(0,D.Z)(["\n  width: 100px;\n  height: 30px;\n  margin-left: 2vw;\n"])));function Ke(e){var n=(0,$.useState)(""),t=n[0],i=n[1],s=((0,U.a)(Fe).data,(0,k.D)(We)),r=(0,y.Z)(s,1)[0],o=(0,k.D)(Xe),d=(0,y.Z)(o,1)[0];function u(){return(u=(0,b.Z)(j().mark((function n(){var i,s;return j().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,r({variables:{createUseditemQuestionAnswerInput:{contents:t},useditemQuestionId:null===(i=e.questionData)||void 0===i?void 0:i._id},refetchQueries:[{query:Fe,variables:{useditemQuestionId:null===(s=e.questionData)||void 0===s?void 0:s._id}}]});case 3:n.next=8;break;case 5:n.prev=5,n.t0=n.catch(0),n.t0 instanceof Error&&alert(n.t0.message);case 8:case"end":return n.stop()}}),n,null,[[0,5]])})))).apply(this,arguments)}var a=function(){var n=(0,b.Z)(j().mark((function n(){var i,s;return j().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,d({variables:{updateUseditemQuestionAnswerInput:{contents:t},useditemQuestionAnswerId:null===(i=e.el)||void 0===i?void 0:i._id},refetchQueries:[{query:Fe,variables:{useditemQuestionId:null===(s=e.el)||void 0===s?void 0:s._id}}]});case 3:n.next=8;break;case 5:n.prev=5,n.t0=n.catch(0),n.t0 instanceof Error&&alert(n.t0.message);case 8:case"end":return n.stop()}}),n,null,[[0,5]])})));return function(){return n.apply(this,arguments)}}();return(0,te.jsx)("div",{children:(0,te.jsxs)(He,{children:[(0,te.jsx)(Ge,{placeholder:"\ub300\ub313\uae00\ub0b4\uc6a9",maxLength:100,onChange:function(e){i(null===e||void 0===e?void 0:e.target.value)}}),(0,te.jsx)(Je,{onClick:e.isEdit?a:function(){return u.apply(this,arguments)},children:e.isEdit?"\uc218\uc815\ud558\uae30":"\ub4f1\ub85d\ud558\uae30"})]})})}var Ye,en,nn,tn,sn,rn=(0,ae.Ps)(_e||(_e=(0,D.Z)(["\n  mutation deleteUseditemQuestionAnswer($useditemQuestionAnswerId: ID!) {\n    deleteUseditemQuestionAnswer(\n      useditemQuestionAnswerId: $useditemQuestionAnswerId\n    )\n  }\n"]))),on=(0,ae.Ps)(De||(De=(0,D.Z)(["\n  query fetchUseditemQuestionAnswers($page: Int, $useditemQuestionId: ID!) {\n    fetchUseditemQuestionAnswers(\n      page: $page\n      useditemQuestionId: $useditemQuestionId\n    ) {\n      _id\n      contents\n    }\n  }\n"]))),dn=(0,ae.Ps)(Pe||(Pe=(0,D.Z)(["\n  mutation updateUseditemQuestionAnswer(\n    $updateUseditemQuestionAnswerInput: UpdateUseditemQuestionAnswerInput!\n    $useditemQuestionAnswerId: ID!\n  ) {\n    updateUseditemQuestionAnswer(\n      updateUseditemQuestionAnswerInput: $updateUseditemQuestionAnswerInput\n      useditemQuestionAnswerId: $useditemQuestionAnswerId\n    ) {\n      _id\n      contents\n    }\n  }\n"]))),un=P.Z.div(Ye||(Ye=(0,D.Z)([""]))),an=P.Z.div(en||(en=(0,D.Z)(["\n  margin-left: 1vw;\n"]))),cn=P.Z.button(nn||(nn=(0,D.Z)(["\n  margin-right: 1vw;\n"]))),ln=P.Z.button(tn||(tn=(0,D.Z)(["\n  margin-right: 1vw;\n"]))),pn=P.Z.div(sn||(sn=(0,D.Z)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  height: auto;\n  min-height: 10vh;\n  background-color: green;\n  color: black;\n"])));function mn(e){(0,C.useRouter)();var n,t,i=(0,$.useState)(!1),s=i[0],r=i[1],o=(0,$.useState)(!1),d=o[0],u=o[1],a=(0,k.D)(dn),c=(0,y.Z)(a,1)[0],l=(0,k.D)(rn),p=(0,y.Z)(l,1)[0],m=function(){var n=(0,b.Z)(j().mark((function n(){var t,i;return j().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(!0),n.prev=1,n.next=4,c({variables:{useditemQuestionAnswerId:null===(t=e.el)||void 0===t?void 0:t._id,updateUseditemQuestionAnswerInput:{contents:null===(i=e.el)||void 0===i?void 0:i.contents}},refetchQueries:[{query:on,variables:{useditemQuestionId:e.useditemQuestionId}}]});case 4:n.next=9;break;case 6:n.prev=6,n.t0=n.catch(1),n.t0 instanceof Error&&alert(n.t0.message);case 9:case"end":return n.stop()}}),n,null,[[1,6]])})));return function(){return n.apply(this,arguments)}}();function f(){return(f=(0,b.Z)(j().mark((function n(){var t,i;return j().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,p({variables:{useditemQuestionAnswerId:null===(t=e.el)||void 0===t?void 0:t._id},refetchQueries:[{query:on,variables:{useditemQuestionAnswerId:null===(i=e.el)||void 0===i?void 0:i._id}}]});case 3:u(!1),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),n.t0 instanceof Error&&alert(n.t0.message);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))).apply(this,arguments)}return(0,te.jsxs)("div",{children:[d&&(0,te.jsx)(A.Z,{visible:!0,onCancel:function(){u(!1)},onOk:function(){return f.apply(this,arguments)},children:"\uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?"}),!s&&(0,te.jsxs)(pn,{children:[(0,te.jsx)(un,{children:null===(n=e.el)||void 0===n?void 0:n.name}),(0,te.jsx)(an,{children:null===(t=e.el)||void 0===t?void 0:t.contents}),(0,te.jsxs)("div",{children:[(0,te.jsx)(cn,{onClick:m,children:"\uc218\uc815\ud558\uae30"}),(0,te.jsx)(ln,{onClick:function(){u(!0)},children:"\uc0ad\uc81c\ud558\uae30"})]})]}),s&&(0,te.jsx)(Ke,{isEdit:!0,setIsEdit:r,el:e.el})]})}var fn=t(54149);function vn(e){var n=(0,U.a)(on,{variables:{useditemQuestionId:e.data._id}}),t=n.data,i=n.fetchMore;(0,U.a)(fn.qV,{}).data;return(0,te.jsxs)("div",{children:[(0,te.jsx)(Ke,{questionData:e.data}),(0,te.jsx)(Be(),{pageStart:0,loadMore:function(){t&&i({variables:{page:Math.ceil((null===t||void 0===t?void 0:t.fetchUseditemQuestionAnswers.length)/10)+1},updateQuery:function(e,n){var t=n.fetchMoreResult;return null!==t&&void 0!==t&&t.fetchUseditemQuestionAnswers?{fetchUseditemQuestionAnswers:[].concat((0,qe.Z)(e.fetchUseditemQuestionAnswers),(0,qe.Z)(t.fetchUseditemQuestionAnswers))}:{fetchUseditemQuestionAnswers:(0,qe.Z)(e.fetchUseditemQuestionAnswers)}}})},hasMore:!0,children:null===t||void 0===t?void 0:t.fetchUseditemQuestionAnswers.map((function(e){return(0,te.jsx)(mn,{el:e},e._id)}))})]})}function hn(e){var n,t,i=(0,C.useRouter)(),s=(0,$.useState)(!1),r=s[0],o=s[1],d=(0,$.useState)(!1),u=d[0],a=(d[1],(0,$.useState)(!1)),c=a[0],l=a[1],p=(0,k.D)(fn.Zo),m=(0,y.Z)(p,1)[0];function f(){return(f=(0,b.Z)(j().mark((function n(){var t;return j().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,m({variables:{useditemQuestionId:null===(t=e.el)||void 0===t?void 0:t._id},refetchQueries:[{query:fn.qV,variables:{useditemId:i.query.useditemId}}]});case 3:n.next=8;break;case 5:n.prev=5,n.t0=n.catch(0),n.t0 instanceof Error&&alert(n.t0.message);case 8:l(!1);case 9:case"end":return n.stop()}}),n,null,[[0,5]])})))).apply(this,arguments)}return(0,te.jsxs)(te.Fragment,{children:[c&&(0,te.jsx)(A.Z,{visible:!0,onOk:function(){return f.apply(this,arguments)},onCancel:function(){l(!1)},children:(0,te.jsx)("div",{children:"\uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?"})}),!r&&(0,te.jsxs)(Se,{children:[(0,te.jsxs)(ze,{children:[(0,te.jsx)(Ne,{children:null===(n=e.el)||void 0===n?void 0:n.name}),(0,te.jsx)(Te,{children:null===(t=e.el)||void 0===t?void 0:t.contents})]}),(0,te.jsxs)(Le,{children:[(0,te.jsx)("div",{onClick:function(){o(!0)},children:"\uc218\uc815\ud558\uae30"}),(0,te.jsx)("div",{onClick:function(){l(!0)},children:"\uc0ad\uc81c\ud558\uae30"})]})]}),r&&(0,te.jsx)(Ee.Z,{isEdit:e.isEdit,setIsEdit:e.setIsEdit,el:e.el}),u&&(0,te.jsx)(vn,{data:e.el})]})}function xn(e){var n;return e.data?(0,te.jsx)(Oe,{children:(0,te.jsx)(Me,{style:{border:"none"},children:(0,te.jsx)(Re,{children:(0,te.jsx)(Be(),{pageStart:0,loadMore:e.onLoadMore,hasMore:!0,children:null===(n=e.data)||void 0===n?void 0:n.fetchUseditemQuestions.map((function(n){return(0,te.jsxs)("div",{children:[(0,te.jsx)("div",{children:n.user.name}),(0,te.jsx)(hn,{el:n,onClickDelete:e.onClickDelete})]},n._id)}))})})})}):(0,te.jsx)("div",{})}function gn(){var e=(0,C.useRouter)(),n=(0,U.a)(fn.qV,{variables:{useditemId:String(e.query.useditemId)}}),t=n.data,i=n.fetchMore,s=(0,k.D)(fn.Zo),r=(0,y.Z)(s,1)[0],o=function(){var n=(0,b.Z)(j().mark((function n(t){return j().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,r({variables:{useditemQuestionId:t.target.id},refetchQueries:[{query:fn.co,variables:{useditemId:e.query.useditemId,page:1}}]});case 3:n.next=8;break;case 5:n.prev=5,n.t0=n.catch(0),n.t0 instanceof Error&&console.log(n.t0.message);case 8:case"end":return n.stop()}}),n,null,[[0,5]])})));return function(e){return n.apply(this,arguments)}}();return(0,te.jsx)(xn,{data:t,onLoadMore:function(){t&&i({variables:{page:Math.ceil((null===t||void 0===t?void 0:t.fetchUseditemQuestions.length)/10)+1},updateQuery:function(e,n){var t=n.fetchMoreResult;return null!==t&&void 0!==t&&t.fetchUseditemQuestions?{fetchUseditemQuestions:[].concat((0,qe.Z)(e.fetchUseditemQuestions),(0,qe.Z)(t.fetchUseditemQuestions))}:{fetchUseditemQuestions:(0,qe.Z)(e.fetchUseditemQuestions)}}})},onClickDelete:o})}var Zn=(0,t(38033).Q)((function(){return(0,te.jsxs)(te.Fragment,{children:[(0,te.jsx)(ve,{}),(0,te.jsx)(gn,{}),(0,te.jsx)(Ee.Z,{})]})}))},25957:function(e,n,t){"use strict";t.d(n,{Z:function(){return u}});var i,s=t(30168),r=t(10386),o=t(85893),d=r.Z.button(i||(i=(0,s.Z)(["\n  color: #79dae8;\n  background-color: #2155cd;\n  cursor: pointer;\n  border: none;\n  width: 150px;\n  height: 50px;\n  font-size: 20px;\n  border-radius: 10px;\n  :hover {\n    font-weight: bold;\n  }\n"])));function u(e){return(0,o.jsx)(d,{onClick:e.onClick,children:e.name})}},38033:function(e,n,t){"use strict";t.d(n,{Q:function(){return u}});var i=t(4942),s=t(11163),r=t(67294),o=t(85893);function d(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}var u=function(e){return function(n){var t=(0,s.useRouter)();return(0,r.useEffect)((function(){document.cookie||(alert("\ub85c\uadf8\uc778\uc774 \ud544\uc694\ud55c \uc11c\ube44\uc2a4 \uc785\ub2c8\ub2e4."),t.push("/fleamarket/login"))}),[]),(0,o.jsx)(e,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?d(Object(t),!0).forEach((function(n){(0,i.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):d(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({},n))}}},54149:function(e,n,t){"use strict";t.d(n,{qV:function(){return a},Zo:function(){return c},co:function(){return l}});var i,s,r,o,d=t(30168),u=t(17283),a=(0,u.Ps)(i||(i=(0,d.Z)(["\n  query fetchUseditemQuestions($page: Int, $useditemId: ID!) {\n    fetchUseditemQuestions(page: $page, useditemId: $useditemId) {\n      _id\n      contents\n      user {\n        name\n      }\n    }\n  }\n"]))),c=(0,u.Ps)(s||(s=(0,d.Z)(["\n  mutation deleteUseditemQuestion($useditemQuestionId: ID!) {\n    deleteUseditemQuestion(useditemQuestionId: $useditemQuestionId)\n  }\n"]))),l=((0,u.Ps)(r||(r=(0,d.Z)(["\n  query fetchUseditemQuestionAnswers($page: Int, $useditemQuestionId: ID!) {\n    fetchUseditemQuestionAnswers(\n      page: $page\n      useditemQuestionId: $useditemQuestionId\n    ) {\n      _id\n      contents\n    }\n  }\n"]))),(0,u.Ps)(o||(o=(0,d.Z)(["\n  query fetchUseditemQuestions($page: Int, $useditemId: ID!) {\n    fetchUseditemQuestions(page: $page, useditemId: $useditemId) {\n      _id\n      contents\n    }\n  }\n"]))))},98300:function(e,n,t){"use strict";t.d(n,{Z:function(){return q}});var i,s,r,o,d,u,a,c=t(15861),l=t(97685),p=t(87757),m=t.n(p),f=t(50319),v=t(11163),h=t(67294),x=t(30168),g=t(10386),Z=g.Z.div(i||(i=(0,x.Z)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n"]))),I=g.Z.div(s||(s=(0,x.Z)(["\n  width: 1200px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  margin-bottom: 100px;\n  margin-top: 100px;\n"]))),w=(g.Z.div(r||(r=(0,x.Z)([""]))),g.Z.textarea(o||(o=(0,x.Z)(["\n  resize: none;\n  width: 1200px;\n  min-height: 100px;\n"])))),b=g.Z.div(d||(d=(0,x.Z)(["\n  margin-top: 10px;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n"]))),y=g.Z.button(u||(u=(0,x.Z)(["\n  all: unset;\n  font-size: 20px;\n  color: #79dae8;\n  background-color: #2155cd;\n  width: 100px;\n  height: 50px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border-radius: 10px;\n  :hover {\n    font-weight: bold;\n  }\n"]))),Q=g.Z.div(a||(a=(0,x.Z)(["\n  font-weight: bold;\n  color: #0aa1dd;\n  padding-right: 10px;\n"]))),j=t(85893);function k(e){var n;return(0,j.jsx)(Z,{children:(0,j.jsxs)(I,{children:[(0,j.jsx)(w,{defaultValue:null===(n=e.el)||void 0===n?void 0:n.contents,onChange:e.onChangeContents,placeholder:"\ud0c0\uc778\uc758 \uad8c\ub9ac\ub97c \uce68\ud574\ud558\uac70\ub098 \uba85\uc608\ub97c \ud6fc\uc190\ud558\ub294 \ub313\uae00\uc740 \uc6b4\uc601\uc6d0\uce59 \ubc0f \uad00\ub828 \ubc95\ub960\uc5d0 \uc81c\uc7ac\ub97c \ubc1b\uc744 \uc218 \uc788\uc2b5\ub2c8\ub2e4.",maxLength:100}),(0,j.jsxs)(b,{children:[(0,j.jsx)(y,{onClick:e.isEdit?e.onClickCommentUpdate:e.onClickCommentWrite,children:e.isEdit?"\uc218\uc815\ud558\uae30":"\ub4f1\ub85d\ud558\uae30"}),(0,j.jsxs)(Q,{children:[e.contents.length,"/100"]})]})]})})}var U,A,C,$=t(17283),_=(0,$.Ps)(U||(U=(0,x.Z)(["\n  mutation createUseditemQuestion(\n    $createUseditemQuestionInput: CreateUseditemQuestionInput!\n    $useditemId: ID!\n  ) {\n    createUseditemQuestion(\n      createUseditemQuestionInput: $createUseditemQuestionInput\n      useditemId: $useditemId\n    ) {\n      _id\n      contents\n    }\n  }\n"]))),D=(0,$.Ps)(A||(A=(0,x.Z)(["\n  mutation updateUseditemQuestion(\n    $updateUseditemQuestionInput: UpdateUseditemQuestionInput!\n    $useditemQuestionId: ID!\n  ) {\n    updateUseditemQuestion(\n      updateUseditemQuestionInput: $updateUseditemQuestionInput\n      useditemQuestionId: $useditemQuestionId\n    ) {\n      _id\n      useditem {\n        name\n      }\n    }\n  }\n"]))),P=((0,$.Ps)(C||(C=(0,x.Z)(["\n  query fetchUseditemQuestions($page: Int, $useditemId: ID!) {\n    fetchUseditemQuestions(page: $page, useditemId: $useditemId) {\n      _id\n      contents\n    }\n  }\n"]))),t(99859)),E=t(54149);function q(e){var n=(0,v.useRouter)(),t=(0,h.useState)(""),i=t[0],s=t[1],r=(0,f.D)(_),o=(0,l.Z)(r,1)[0],d=function(){var e=(0,c.Z)(m().mark((function e(){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o({variables:{createUseditemQuestionInput:{contents:i},useditemId:String(n.query.useditemId)},refetchQueries:[{query:E.qV,variables:{useditemId:String(n.query.useditemId)}}]});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),e.t0 instanceof Error&&alert(e.t0.message);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}(),u=(0,f.D)(D),a=(0,l.Z)(u,1)[0],p=function(){var t=(0,c.Z)(m().mark((function t(){var s,r;return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i){t.next=3;break}return P.Z.error({content:"\ub0b4\uc6a9\uc774 \uc218\uc815\ub418\uc5b4\uc57c \ud569\ub2c8\ub2e4."}),t.abrupt("return");case 3:return t.prev=3,r={},i&&(r.contents=i),t.next=8,a({variables:{updateUseditemQuestionInput:r,useditemQuestionId:null===(s=e.el)||void 0===s?void 0:s._id},refetchQueries:[{query:E.qV,variables:{useditemId:n.query.useditemId}}]});case 8:e.setIsEdit(!1),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(3),t.t0 instanceof Error&&alert(t.t0.message);case 14:case"end":return t.stop()}}),t,null,[[3,11]])})));return function(){return t.apply(this,arguments)}}();return(0,j.jsx)(k,{onClickCommentWrite:d,onClickCommnetUpdate:p,onChangeContents:function(e){s(e.target.value)},contents:i,el:e.el,isEdit:e.isEdit})}},81301:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/fleamarket/[useditemId]",function(){return t(82559)}])},88357:function(e,n,t){"use strict";t.d(n,{w_:function(){return a}});var i=t(67294),s={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},r=i.createContext&&i.createContext(s),o=function(){return(o=Object.assign||function(e){for(var n,t=1,i=arguments.length;t<i;t++)for(var s in n=arguments[t])Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s]);return e}).apply(this,arguments)},d=function(e,n){var t={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&n.indexOf(i)<0&&(t[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(e);s<i.length;s++)n.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(t[i[s]]=e[i[s]])}return t};function u(e){return e&&e.map((function(e,n){return i.createElement(e.tag,o({key:n},e.attr),u(e.child))}))}function a(e){return function(n){return i.createElement(c,o({attr:o({},e.attr)},n),u(e.child))}}function c(e){var n=function(n){var t,s=e.attr,r=e.size,u=e.title,a=d(e,["attr","size","title"]),c=r||n.size||"1em";return n.className&&(t=n.className),e.className&&(t=(t?t+" ":"")+e.className),i.createElement("svg",o({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,a,{className:t,style:o(o({color:e.color||n.color},n.style),e.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),u&&i.createElement("title",null,u),e.children)};return void 0!==r?i.createElement(r.Consumer,null,(function(e){return n(e)})):n(s)}}},function(e){e.O(0,[13,369,774,888,179],(function(){return n=81301,e(e.s=n);var n}));var n=e.O();_N_E=n}]);