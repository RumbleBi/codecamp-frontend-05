(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[656],{33213:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return F}});var o,r,i,a,s,c,d,l,u,f,p,x,h=t(15861),g=t(97685),v=t(87757),Z=t.n(v),m=t(50319),k=t(66252),w=t(11163),b=t(67294),j=t(47595),y=t(30168),C=t(10386),_=C.Z.div(o||(o=(0,y.Z)(["\n  display: flex;\n  justify-content: center;\n"]))),E=C.Z.div(r||(r=(0,y.Z)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-evenly;\n  align-items: center;\n  width: 1200px;\n  height: 100vh;\n  background-color: #e8f9fd;\n"]))),z=C.Z.div(i||(i=(0,y.Z)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: #79dae8;\n  font-size: 32px;\n  font-weight: bold;\n"]))),A=C.Z.div(a||(a=(0,y.Z)([""]))),U=C.Z.div(s||(s=(0,y.Z)(["\n  color: #79dae8;\n  font-size: 20px;\n"]))),N=C.Z.input(c||(c=(0,y.Z)(["\n  width: 400px;\n  height: 50px;\n  padding-left: 10px;\n  font-size: 20px;\n  border: none;\n  border-bottom: 1px solid #0aa1dd;\n  background-color: #e8f9fd;\n"]))),P=C.Z.div(d||(d=(0,y.Z)([""]))),S=C.Z.div(l||(l=(0,y.Z)(["\n  color: #79dae8;\n  font-size: 20px;\n"]))),T=C.Z.input(u||(u=(0,y.Z)(["\n  width: 400px;\n  height: 50px;\n  padding-left: 10px;\n  font-size: 20px;\n  border: none;\n  border-bottom: 1px solid #0aa1dd;\n  background-color: #e8f9fd;\n"]))),I=C.Z.div(f||(f=(0,y.Z)(["\n  display: flex;\n  justify-content: center;\n  width: 400px;\n"]))),$=C.Z.div(p||(p=(0,y.Z)(["\n  display: flex;\n  color: #79dae8;\n  font-size: 24px;\n  margin: 0 30px;\n  cursor: pointer;\n  :hover {\n    font-weight: bold;\n  }\n"]))),q=C.Z.button(x||(x=(0,y.Z)(["\n  color: #f2f2f2;\n  font-size: 32px;\n  width: 400px;\n  height: 70px;\n  border: none;\n  border-radius: 10px;\n  cursor: ",";\n  background-color: ",";\n"])),(function(n){return!0===n.isActive?"pointer":"default"}),(function(n){return!0===n.isActive?"#2155cd":"gray"})),B=t(85893),L=[{name:"\ud68c\uc6d0\uac00\uc785",page:"/fleamarket/signin"}];function O(n){return(0,B.jsx)(_,{children:(0,B.jsxs)(E,{children:[(0,B.jsx)(z,{children:"Ani Gallery"}),(0,B.jsxs)(A,{children:[(0,B.jsx)(U,{children:"\uc774\uba54\uc77c\ub85c \ub85c\uadf8\uc778"}),(0,B.jsx)(N,{placeholder:"\uc774\uba54\uc77c",onChange:n.onChangeEmail})]}),(0,B.jsxs)(P,{children:[(0,B.jsx)(S,{children:"\ube44\ubc00\ubc88\ud638"}),(0,B.jsx)(T,{placeholder:"\ube44\ubc00\ubc88\ud638",type:"password",onChange:n.onChangePassword})]}),(0,B.jsx)(I,{children:L.map((function(e){return(0,B.jsx)("div",{children:(0,B.jsx)($,{id:e.page,onClick:n.onClickMenu,children:e.name})},e.page)}))}),(0,B.jsx)(q,{isActive:n.isActive,onClick:n.onClickBtn,children:"\ub85c\uadf8\uc778"})]})})}var G,M,X=t(17283),D=(0,X.Ps)(G||(G=(0,y.Z)(["\n  mutation loginUser($password: String!, $email: String!) {\n    loginUser(password: $password, email: $email) {\n      accessToken\n    }\n  }\n"]))),J=(0,X.Ps)(M||(M=(0,y.Z)(["\n  query fetchUserLoggedIn {\n    fetchUserLoggedIn {\n      email\n      name\n    }\n  }\n"])));function R(){var n=(0,w.useRouter)(),e=(0,b.useState)(!1),t=e[0],o=e[1],r=(0,m.D)(D),i=(0,g.Z)(r,1)[0],a=(0,b.useContext)(j.GlobalContext),s=a.setAccessToken,c=a.setUserInfo,d=(0,b.useState)(""),l=d[0],u=d[1],f=(0,b.useState)(""),p=f[0],x=f[1],v=(0,k.x)(),y=function(){var e=(0,h.Z)(Z().mark((function e(){var t,o,r,a,d;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i({variables:{email:l,password:p}});case 3:if(o=e.sent,r=(null===(t=o.data)||void 0===t?void 0:t.loginUser.accessToken)||"",!s){e.next=15;break}return s(r||""),e.next=9,v.query({query:J,context:{headers:{authorization:"Bearer ".concat(r)}}});case 9:a=e.sent,d=a.data.fetchUserLoggedIn,s&&s(r),c&&c(d),document.cookie="accessToken=".concat(r),document.cookie="userInfo=".concat(JSON.stringify(d));case 15:n.push("/fleamarket/main"),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(0),e.t0 instanceof Error&&console.log(e.t0.message),alert("\uc544\uc774\ub514, \ube44\ubc00\ubc88\ud638\uac00 \ud2c0\ub9bd\ub2c8\ub2e4.");case 22:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(){return e.apply(this,arguments)}}();return(0,B.jsx)(O,{onChangeEmail:function(n){u(n.target.value),n.target.value&&l&&p?o(!0):o(!1)},onChangePassword:function(n){x(n.target.value),n.target.value&&l&&p?o(!0):o(!1)},onClickBtn:y,onClickMenu:function(e){e.target instanceof Element&&n.push(e.target.id)},isActive:t})}function F(){return(0,B.jsx)(R,{})}},87182:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/fleamarket/login",function(){return t(33213)}])}},function(n){n.O(0,[774,888,179],(function(){return e=87182,n(n.s=e);var e}));var e=n.O();_N_E=e}]);