(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[637],{31134:function(n,e,r){"use strict";r.r(e),r.d(e,{default:function(){return nn}});var t=r(38033),i=r(15861),o=r(97685),a=r(87757),c=r.n(a),l=r(50319),s=r(71641),u=r(25934),d=r(67294);function p(n){return null!==n&&void 0!==n&&n.size?n.size>5242880?(alert("\ud30c\uc77c\uc774 \ub108\ubb34 \ud07d\ub2c8\ub2e4.(\uc81c\ud55c: 5MB)"),!1):n.type.includes("png")||n.type.includes("jpeg")?n:(alert("\ud30c\uc77c \ud655\uc7a5\uc790\uac00 \uc62c\ubc14\ub974\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.(png, jpeg\ub9cc \uac00\ub2a5)"),!1):(alert("\ud30c\uc77c\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."),!1)}var f,h,g,x=r(30168),v=r(10386),m=v.Z.img(f||(f=(0,x.Z)(["\n  width: 100px;\n  height: 100px;\n  border-radius: 50px;\n  cursor: pointer;\n"]))),b=v.Z.button(h||(h=(0,x.Z)(["\n  width: 100px;\n  height: 100px;\n  background-color: #2155cd;\n  color: #79dae8;\n  border-radius: 50px;\n  outline: none;\n  border: none;\n  cursor: pointer;\n  font-size: 18px;\n"]))),y=v.Z.input(g||(g=(0,x.Z)(["\n  display: none;\n"]))),k=r(85893);function C(n){return(0,k.jsxs)(k.Fragment,{children:[n.fileUrl?(0,k.jsx)(m,{onClick:n.onClickUpload,src:"https://storage.googleapis.com/".concat(n.fileUrl)}):(0,k.jsx)(b,{onClick:n.onClickUpload,children:"\uc0ac\uc9c4\ubcc0\uacbd"}),(0,k.jsx)(y,{type:"file",ref:n.fileRef,onChange:n.onChangeFile})]})}var j,w,Z,U,P,O,I,E,F,_,z,R=r(17283),N=(0,R.Ps)(j||(j=(0,x.Z)(["\n  mutation uploadFile($file: Upload!) {\n    uploadFile(file: $file) {\n      url\n    }\n  }\n"])));function S(n){var e=(0,d.useRef)(null),r=(0,l.D)(N),t=(0,o.Z)(r,1)[0],a=function(){var e=(0,i.Z)(c().mark((function e(r){var i,o,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=p(null===(i=r.target.files)||void 0===i?void 0:i[0])){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,t({variables:{file:o}});case 6:a=e.sent,n.onChangeFileUrl(a.data.uploadFile.url),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),e.t0 instanceof Error&&alert(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(n){return e.apply(this,arguments)}}();return(0,k.jsx)(C,{fileRef:e,fileUrl:n.fileUrl,defaultFileUrl:n.defaultFileUrl,onClickUpload:function(){var n;null===(n=e.current)||void 0===n||n.click()},onChangeFile:a})}var L,D,V=v.Z.div(w||(w=(0,x.Z)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]))),$=v.Z.div(Z||(Z=(0,x.Z)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 30px;\n  font-weight: bold;\n  margin-top: 100px;\n  margin-bottom: 50px;\n  border-radius: 10px;\n  width: 600px;\n  height: 60px;\n  background-color: #79dae8;\n  color: #2155cd;\n"]))),Q=v.Z.div(U||(U=(0,x.Z)(["\n  display: flex;\n  margin-bottom: 100px;\n"]))),q=v.Z.div(P||(P=(0,x.Z)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: flex-start;\n  width: 200px;\n  height: 800px;\n  background-color: #79dae8;\n  border-radius: 10px 0px 0px 10px;\n  border-right: 2px solid #2155cd;\n  div {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 200px;\n    height: 80px;\n    border-bottom: 2px solid #2155cd;\n    color: #2155cd;\n    font-size: 24px;\n    font-weight: bold;\n    cursor: pointer;\n    :hover {\n      background-color: #2155cd;\n      color: #79dae8;\n    }\n  }\n"]))),B=v.Z.div(O||(O=(0,x.Z)(["\n  border-radius: 10px 0px 0px 0px;\n"]))),T=v.Z.div(I||(I=(0,x.Z)(["\n  display: flex;\n  width: 1000px;\n  height: 800px;\n  flex-direction: column;\n  align-items: flex-start;\n  justify-content: flex-start;\n  background-color: #79dae8;\n  border-radius: 0px 10px 10px 0px;\n  div {\n    margin-left: 100px;\n    margin-top: 100px;\n  }\n"]))),W=v.Z.div(E||(E=(0,x.Z)(["\n  display: flex;\n  justify-content: flex-start;\n  width: 500px;\n  height: 100px;\n  align-items: center;\n  span {\n    font-size: 20px;\n    font-weight: bold;\n    color: #2155cd;\n    margin-right: 50px;\n  }\n"]))),X=v.Z.div(F||(F=(0,x.Z)(["\n  color: #2155cd;\n  font-size: 20px;\n  font-weight: bold;\n"]))),A=v.Z.div(_||(_=(0,x.Z)(["\n  display: flex;\n  align-items: center;\n  span {\n    width: 180px;\n    font-size: 20px;\n    font-weight: bold;\n    color: #2155cd;\n  }\n  input {\n    border: 1px solid #79dae8;\n    border-radius: 10px;\n    width: 200px;\n    height: 40px;\n    padding-left: 10px;\n    color: #2155cd;\n    margin-right: 50px;\n  }\n  button {\n    width: 100px;\n    height: 40px;\n    border: none;\n    color: #79dae8;\n    background-color: #2155cd;\n    border-radius: 10px;\n    cursor: pointer;\n    font-size: 18px;\n    :hover {\n      font-weight: bold;\n    }\n  }\n"]))),M=v.Z.button(z||(z=(0,x.Z)(["\n  width: 100px;\n  height: 50px;\n  border: none;\n  margin-left: 50px;\n  color: #79dae8;\n  background-color: #2155cd;\n  border-radius: 10px;\n  cursor: pointer;\n  font-size: 18px;\n  :hover {\n    font-weight: bold;\n  }\n"])));function G(n){var e,r;return(0,k.jsxs)(V,{children:[(0,k.jsx)($,{children:"\ub9c8\uc774\ud398\uc774\uc9c0"}),(0,k.jsxs)(Q,{children:[(0,k.jsxs)(q,{children:[(0,k.jsx)(B,{onClick:n.onClickPointInfo,children:"\ud3ec\uc778\ud2b8\ub0b4\uc5ed"}),(0,k.jsx)("div",{onClick:n.onClickPWChange,children:"\ube44\ubc00\ubc88\ud638\ubcc0\uacbd"}),(0,k.jsx)("div",{onClick:n.onClickSelling,children:"\uc0c1\ud488\ud310\ub9e4\ub0b4\uc5ed"}),(0,k.jsx)("div",{onClick:n.onClickBuying,children:"\uc0c1\ud488\uad6c\ub9e4\ub0b4\uc5ed"}),(0,k.jsx)("div",{onClick:n.onClickPickedList,children:"\ub0b4\uac00\ucc1c\ud55c\uc0c1\ud488"})]}),(0,k.jsxs)(T,{children:[(0,k.jsxs)(X,{children:["\uc544\uc774\ub514 : ",null===(e=n.dataUser)||void 0===e?void 0:e.fetchUserLoggedIn.email]}),(0,k.jsxs)(A,{children:[(0,k.jsxs)("span",{children:["\ub2c9\ub124\uc784 : ",null===(r=n.dataUser)||void 0===r?void 0:r.fetchUserLoggedIn.name]}),(0,k.jsx)("input",{onChange:n.onChangeName,type:"text"}),(0,k.jsx)("button",{onClick:n.onClickChangeName,children:"\ub2c9\ub124\uc784\ubcc0\uacbd"})]}),(0,k.jsxs)(W,{children:[(0,k.jsx)("span",{children:"\ud504\ub85c\ud544\uc0ac\uc9c4\ubcc0\uacbd :"}),(0,k.jsx)(S,{fileUrl:n.fileUrl,onChangeFileUrl:n.onChangeFileUrl},(0,u.Z)()),(0,k.jsx)(M,{onClick:n.onClickChangePicture,children:"\uc801\uc6a9\ud558\uae30"})]})]})]})]})}var H=(0,R.Ps)(L||(L=(0,x.Z)(["\n  query fetchUserLoggedIn {\n    fetchUserLoggedIn {\n      email\n      name\n    }\n  }\n"]))),J=(0,R.Ps)(D||(D=(0,x.Z)(["\n  mutation updateUser($updateUserInput: UpdateUserInput!) {\n    updateUser(updateUserInput: $updateUserInput) {\n      name\n      picture\n    }\n  }\n"]))),K=r(11163);function Y(){var n=(0,d.useState)(""),e=n[0],r=n[1],t=(0,d.useState)(""),a=t[0],u=t[1],p=(0,K.useRouter)(),f=(0,l.D)(J),h=(0,o.Z)(f,1)[0],g=(0,s.a)(H).data,x=function(){var n=(0,i.Z)(c().mark((function n(){return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,h({variables:{updateUserInput:{name:a}},refetchQueries:[{query:H}]});case 3:alert("\uc774\ub984\uc774 \ubcc0\uacbd\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),n.t0 instanceof Error&&alert(n.t0.message);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})));return function(){return n.apply(this,arguments)}}(),v=function(){var n=(0,i.Z)(c().mark((function n(){return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,h({variables:{updateUserInput:{picture:e}},refetchQueries:[{query:H}]});case 3:alert("\ud504\ub85c\ud544\uc0ac\uc9c4\uc774 \ubcc0\uacbd\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),n.t0 instanceof Error&&alert(n.t0.message);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})));return function(){return n.apply(this,arguments)}}();return(0,k.jsx)(G,{name:a,fileUrl:e,dataUser:g,onChangeName:function(n){u(n.target.value)},onClickChangeName:x,onClickChangePicture:v,onChangeFileUrl:function(n){r(n)},onClickPWChange:function(){p.push("/fleamarket/mypage/changePassword")},onClickPickedList:function(){p.push("/fleamarket/mypage/pickedList")},onClickSelling:function(){p.push("/fleamarket/mypage/selling")},onClickBuying:function(){p.push("/fleamarket/mypage/buying")},onClickPointInfo:function(){p.push("/fleamarket/mypage/pointInfo")}})}var nn=(0,t.Q)((function(){return(0,k.jsx)(Y,{})}))},38033:function(n,e,r){"use strict";r.d(e,{Q:function(){return l}});var t=r(4942),i=r(11163),o=r(67294),a=r(85893);function c(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(n);e&&(t=t.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.push.apply(r,t)}return r}var l=function(n){return function(e){var r=(0,i.useRouter)();return(0,o.useEffect)((function(){document.cookie||(alert("\ub85c\uadf8\uc778\uc774 \ud544\uc694\ud55c \uc11c\ube44\uc2a4 \uc785\ub2c8\ub2e4."),r.push("/fleamarket/login"))}),[]),(0,a.jsx)(n,function(n){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?c(Object(r),!0).forEach((function(e){(0,t.Z)(n,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(r,e))}))}return n}({},e))}}},77646:function(n,e,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/fleamarket/mypage",function(){return r(31134)}])},25934:function(n,e,r){"use strict";var t;r.d(e,{Z:function(){return d}});var i=new Uint8Array(16);function o(){if(!t&&!(t="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return t(i)}var a=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var c=function(n){return"string"===typeof n&&a.test(n)},l=[],s=0;s<256;++s)l.push((s+256).toString(16).substr(1));var u=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(l[n[e+0]]+l[n[e+1]]+l[n[e+2]]+l[n[e+3]]+"-"+l[n[e+4]]+l[n[e+5]]+"-"+l[n[e+6]]+l[n[e+7]]+"-"+l[n[e+8]]+l[n[e+9]]+"-"+l[n[e+10]]+l[n[e+11]]+l[n[e+12]]+l[n[e+13]]+l[n[e+14]]+l[n[e+15]]).toLowerCase();if(!c(r))throw TypeError("Stringified UUID is invalid");return r};var d=function(n,e,r){var t=(n=n||{}).random||(n.rng||o)();if(t[6]=15&t[6]|64,t[8]=63&t[8]|128,e){r=r||0;for(var i=0;i<16;++i)e[r+i]=t[i];return e}return u(t)}}},function(n){n.O(0,[774,888,179],(function(){return e=77646,n(n.s=e);var e}));var e=n.O();_N_E=e}]);